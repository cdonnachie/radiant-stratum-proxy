# ============================================================================
# Radiant Stratum Proxy - ASIC Mining Configuration
# ============================================================================
# Optimized for ASIC miners (IceRiver, etc. - 1+ TH/s range)
# Copy this file: cp .env.example.asic .env
# ============================================================================

# Radiant Configuration
RXD_RPC_USER=radiant_user
RXD_RPC_PASS=change_this_secure_password
RXD_RPC_PORT=7332
RXD_P2P_PORT=7333

# Radiant Build Configuration (Docker only)
RADIANT_VERSION=main

# Network Selection (mainnet or testnet)
# Data is stored separately per network, so you can switch without losing sync
NETWORK=mainnet
TESTNET=false

# Stratum Proxy Configuration
STRATUM_PORT=54321
PROXY_SIGNATURE=/radiant-stratum-proxy/

# Mining Optimization
USE_EASIER_TARGET=true

# === Static Share Difficulty (when VarDiff is disabled) ===
# ASIC recommended: 512 (IceRiver RX0)
STATIC_SHARE_DIFFICULTY=512.0

# === Variable Difficulty (VarDiff) Settings ===
# RECOMMENDED - auto-adjusts to your ASIC's hashrate
ENABLE_VARDIFF=true

# Target 15 seconds between shares (can increase to 30s for less overhead)
VARDIFF_TARGET_SHARE_TIME=15.0

# ASIC-optimized difficulty bounds
VARDIFF_MIN_DIFFICULTY=512.0          # Floor for smaller ASICs
VARDIFF_MAX_DIFFICULTY=5000.0         # Max for large ASICs 
VARDIFF_START_DIFFICULTY=1024.0       # IceRiver-friendly starting point

# ASICs have stable hashrate, can be less aggressive on retargeting
VARDIFF_RETARGET_SHARES=10
VARDIFF_RETARGET_TIME=90.0

# Step size clamps
VARDIFF_UP_STEP=2.0
VARDIFF_DOWN_STEP=0.5

# EMA smoothing
VARDIFF_EMA_ALPHA=0.3

# Inactivity handling (ASICs are typically always-on)
VARDIFF_INACTIVITY_LOWER=120.0
VARDIFF_INACTIVITY_MULTIPLES=6.0
VARDIFF_INACTIVITY_DROP_FACTOR=0.5

# Persistence
VARDIFF_STATE_PATH=data/vardiff_state.json
VARDIFF_WARM_START_MINUTES=60
VARDIFF_CHAIN_HEADROOM=0.9

# ZMQ Configuration
ENABLE_ZMQ=true
RXD_ZMQ_ENDPOINT=tcp://radiant:29332
RXD_ZMQ_PORT=29332
RXD_ZMQ_RAW_PORT=29333

# Logging (INFO recommended for production)
LOG_LEVEL=INFO
SHOW_JOBS=false

# Notifications (uncomment and configure to receive block alerts)
#DISCORD_WEBHOOK_URL=
#TELEGRAM_BOT_TOKEN=
#TELEGRAM_CHAT_ID=

# Web Dashboard
ENABLE_DASHBOARD=true
DASHBOARD_PORT=8080
ENABLE_DATABASE=true
